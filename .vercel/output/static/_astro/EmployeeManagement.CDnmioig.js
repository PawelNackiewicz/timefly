import{c as H,j as e,d as dt,u as G,a as b,k as ut,B as E,C as Te,f as Ae,g as Oe,h as Fe,i as Le}from"./button.pmg0s_66.js";import{r as s}from"./index.CjBS79r7.js";import{Q as Vn,u as zn,a as Hn,b as M,L as he}from"./QueryProvider.DWBPYdLS.js";import{u as me}from"./useMutation.BEHVATYt.js";import{c as be,P as q,a as w,m as qn,u as Qe,b as ae,n as Xn,o as pt,I as Yn,R as Qn,p as mt,q as Jn,T as Zn,d as er,e as $e,f as Ge,g as tr,h as nr,i as Ke,j as fe,k as rr,l as re}from"./tabs.CW86skRS.js";import{P as ft,R as ht,h as xt,u as gt,F as vt,D as wt,c as jt,A as or,a as ar,b as sr,d as ir,C as cr,k as yt,l as lr,m as dr,j as ur,S as Ue,e as Be,f as We,g as Ve,i as ee,B as ze}from"./badge.eQfYYmZJ.js";import{P as S,d as pr}from"./index.DXVitGMF.js";import{I as V}from"./input.B1xiYV-k.js";import{L as $}from"./label.CN2pX0yF.js";import{U as mr}from"./users.BWU76pS6.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=H("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=H("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=H("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=H("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Me="Dialog",[Ct]=be(Me),[jr,T]=Ct(Me),Nt=t=>{const{__scopeDialog:r,children:n,open:o,defaultOpen:a,onOpenChange:i,modal:c=!0}=t,d=s.useRef(null),f=s.useRef(null),[h,p]=Qe({prop:o,defaultProp:a??!1,onChange:i,caller:Me});return e.jsx(jr,{scope:r,triggerRef:d,contentRef:f,contentId:ae(),titleId:ae(),descriptionId:ae(),open:h,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(u=>!u),[p]),modal:c,children:n})};Nt.displayName=Me;var bt="DialogTrigger",yr=s.forwardRef((t,r)=>{const{__scopeDialog:n,...o}=t,a=T(bt,n),i=G(r,a.triggerRef);return e.jsx(S.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":et(a.open),...o,ref:i,onClick:w(t.onClick,a.onOpenToggle)})});yr.displayName=bt;var Je="DialogPortal",[_r,Mt]=Ct(Je,{forceMount:void 0}),Dt=t=>{const{__scopeDialog:r,forceMount:n,children:o,container:a}=t,i=T(Je,r);return e.jsx(_r,{scope:r,forceMount:n,children:s.Children.map(o,c=>e.jsx(q,{present:n||i.open,children:e.jsx(ft,{asChild:!0,container:a,children:c})}))})};Dt.displayName=Je;var _e="DialogOverlay",Et=s.forwardRef((t,r)=>{const n=Mt(_e,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,i=T(_e,t.__scopeDialog);return i.modal?e.jsx(q,{present:o||i.open,children:e.jsx(Nr,{...a,ref:r})}):null});Et.displayName=_e;var Cr=dt("DialogOverlay.RemoveScroll"),Nr=s.forwardRef((t,r)=>{const{__scopeDialog:n,...o}=t,a=T(_e,n);return e.jsx(ht,{as:Cr,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(S.div,{"data-state":et(a.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),z="DialogContent",Pt=s.forwardRef((t,r)=>{const n=Mt(z,t.__scopeDialog),{forceMount:o=n.forceMount,...a}=t,i=T(z,t.__scopeDialog);return e.jsx(q,{present:o||i.open,children:i.modal?e.jsx(br,{...a,ref:r}):e.jsx(Mr,{...a,ref:r})})});Pt.displayName=z;var br=s.forwardRef((t,r)=>{const n=T(z,t.__scopeDialog),o=s.useRef(null),a=G(r,n.contentRef,o);return s.useEffect(()=>{const i=o.current;if(i)return xt(i)},[]),e.jsx(Rt,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:w(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&i.preventDefault()}),onFocusOutside:w(t.onFocusOutside,i=>i.preventDefault())})}),Mr=s.forwardRef((t,r)=>{const n=T(z,t.__scopeDialog),o=s.useRef(!1),a=s.useRef(!1);return e.jsx(Rt,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(o.current||n.triggerRef.current?.focus(),i.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;n.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Rt=s.forwardRef((t,r)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,...c}=t,d=T(z,n),f=s.useRef(null),h=G(r,f);return gt(),e.jsxs(e.Fragment,{children:[e.jsx(vt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(wt,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":et(d.open),...c,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Dr,{titleId:d.titleId}),e.jsx(Pr,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Ze="DialogTitle",St=s.forwardRef((t,r)=>{const{__scopeDialog:n,...o}=t,a=T(Ze,n);return e.jsx(S.h2,{id:a.titleId,...o,ref:r})});St.displayName=Ze;var It="DialogDescription",kt=s.forwardRef((t,r)=>{const{__scopeDialog:n,...o}=t,a=T(It,n);return e.jsx(S.p,{id:a.descriptionId,...o,ref:r})});kt.displayName=It;var Tt="DialogClose",At=s.forwardRef((t,r)=>{const{__scopeDialog:n,...o}=t,a=T(Tt,n);return e.jsx(S.button,{type:"button",...o,ref:r,onClick:w(t.onClick,()=>a.onOpenChange(!1))})});At.displayName=Tt;function et(t){return t?"open":"closed"}var Ot="DialogTitleWarning",[va,Ft]=qn(Ot,{contentName:z,titleName:Ze,docsSlug:"dialog"}),Dr=({titleId:t})=>{const r=Ft(Ot),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return s.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Er="DialogDescriptionWarning",Pr=({contentRef:t,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ft(Er).contentName}}.`;return s.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(o))},[o,t,r]),null},Rr=Nt,Sr=Dt,Lt=Et,$t=Pt,Gt=St,Kt=kt,Ir=At;const He=Rr,kr=Sr,Ut=s.forwardRef(({className:t,...r},n)=>e.jsx(Lt,{ref:n,className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));Ut.displayName=Lt.displayName;const xe=s.forwardRef(({className:t,children:r,...n},o)=>e.jsxs(kr,{children:[e.jsx(Ut,{}),e.jsxs($t,{ref:o,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,e.jsxs(Ir,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xe.displayName=$t.displayName;const ge=({className:t,...r})=>e.jsx("div",{className:b("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});ge.displayName="DialogHeader";const ve=({className:t,...r})=>e.jsx("div",{className:b("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});ve.displayName="DialogFooter";const we=s.forwardRef(({className:t,...r},n)=>e.jsx(Gt,{ref:n,className:b("text-lg font-semibold leading-none tracking-tight",t),...r}));we.displayName=Gt.displayName;const je=s.forwardRef(({className:t,...r},n)=>e.jsx(Kt,{ref:n,className:b("text-sm text-muted-foreground",t),...r}));je.displayName=Kt.displayName;var Xe=["Enter"," "],Tr=["ArrowDown","PageUp","Home"],Bt=["ArrowUp","PageDown","End"],Ar=[...Tr,...Bt],Or={ltr:[...Xe,"ArrowRight"],rtl:[...Xe,"ArrowLeft"]},Fr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ce="Menu",[se,Lr,$r]=Xn(ce),[X,Wt]=be(ce,[$r,jt,pt]),De=jt(),Vt=pt(),[Gr,Y]=X(ce),[Kr,le]=X(ce),zt=t=>{const{__scopeMenu:r,open:n=!1,children:o,dir:a,onOpenChange:i,modal:c=!0}=t,d=De(r),[f,h]=s.useState(null),p=s.useRef(!1),u=mt(i),x=Jn(a);return s.useEffect(()=>{const C=()=>{p.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>p.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(sr,{...d,children:e.jsx(Gr,{scope:r,open:n,onOpenChange:u,content:f,onContentChange:h,children:e.jsx(Kr,{scope:r,onClose:s.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:p,dir:x,modal:c,children:o})})})};zt.displayName=ce;var Ur="MenuAnchor",tt=s.forwardRef((t,r)=>{const{__scopeMenu:n,...o}=t,a=De(n);return e.jsx(or,{...a,...o,ref:r})});tt.displayName=Ur;var nt="MenuPortal",[Br,Ht]=X(nt,{forceMount:void 0}),qt=t=>{const{__scopeMenu:r,forceMount:n,children:o,container:a}=t,i=Y(nt,r);return e.jsx(Br,{scope:r,forceMount:n,children:e.jsx(q,{present:n||i.open,children:e.jsx(ft,{asChild:!0,container:a,children:o})})})};qt.displayName=nt;var I="MenuContent",[Wr,rt]=X(I),Xt=s.forwardRef((t,r)=>{const n=Ht(I,t.__scopeMenu),{forceMount:o=n.forceMount,...a}=t,i=Y(I,t.__scopeMenu),c=le(I,t.__scopeMenu);return e.jsx(se.Provider,{scope:t.__scopeMenu,children:e.jsx(q,{present:o||i.open,children:e.jsx(se.Slot,{scope:t.__scopeMenu,children:c.modal?e.jsx(Vr,{...a,ref:r}):e.jsx(zr,{...a,ref:r})})})})}),Vr=s.forwardRef((t,r)=>{const n=Y(I,t.__scopeMenu),o=s.useRef(null),a=G(r,o);return s.useEffect(()=>{const i=o.current;if(i)return xt(i)},[]),e.jsx(ot,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:w(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zr=s.forwardRef((t,r)=>{const n=Y(I,t.__scopeMenu);return e.jsx(ot,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Hr=dt("MenuContent.ScrollLock"),ot=s.forwardRef((t,r)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:x,onDismiss:C,disableOutsideScroll:g,...N}=t,P=Y(I,n),v=le(I,n),A=De(n),_=Vt(n),O=Lr(n),[Q,J]=s.useState(null),K=s.useRef(null),de=G(r,K,P.onContentChange),U=s.useRef(0),W=s.useRef(""),ue=s.useRef(0),Z=s.useRef(null),te=s.useRef("right"),B=s.useRef(0),Se=g?ht:s.Fragment,Ie=g?{as:Hr,allowPinchZoom:!0}:void 0,ke=m=>{const L=W.current+m,k=O().filter(R=>!R.disabled),j=document.activeElement,y=k.find(R=>R.ref.current===j)?.textValue,l=k.map(R=>R.textValue),pe=ao(l,L,y),ne=k.find(R=>R.textValue===pe)?.ref.current;(function R(ct){W.current=ct,window.clearTimeout(U.current),ct!==""&&(U.current=window.setTimeout(()=>R(""),1e3))})(L),ne&&setTimeout(()=>ne.focus())};s.useEffect(()=>()=>window.clearTimeout(U.current),[]),gt();const F=s.useCallback(m=>te.current===Z.current?.side&&io(m,Z.current?.area),[]);return e.jsx(Wr,{scope:n,searchRef:W,onItemEnter:s.useCallback(m=>{F(m)&&m.preventDefault()},[F]),onItemLeave:s.useCallback(m=>{F(m)||(K.current?.focus(),J(null))},[F]),onTriggerLeave:s.useCallback(m=>{F(m)&&m.preventDefault()},[F]),pointerGraceTimerRef:ue,onPointerGraceIntentChange:s.useCallback(m=>{Z.current=m},[]),children:e.jsx(Se,{...Ie,children:e.jsx(vt,{asChild:!0,trapped:a,onMountAutoFocus:w(i,m=>{m.preventDefault(),K.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(wt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:x,onDismiss:C,children:e.jsx(Qn,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:o,currentTabStopId:Q,onCurrentTabStopIdChange:J,onEntryFocus:w(f,m=>{v.isUsingKeyboardRef.current||m.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(ar,{role:"menu","aria-orientation":"vertical","data-state":pn(P.open),"data-radix-menu-content":"",dir:v.dir,...A,...N,ref:de,style:{outline:"none",...N.style},onKeyDown:w(N.onKeyDown,m=>{const k=m.target.closest("[data-radix-menu-content]")===m.currentTarget,j=m.ctrlKey||m.altKey||m.metaKey,y=m.key.length===1;k&&(m.key==="Tab"&&m.preventDefault(),!j&&y&&ke(m.key));const l=K.current;if(m.target!==l||!Ar.includes(m.key))return;m.preventDefault();const ne=O().filter(R=>!R.disabled).map(R=>R.ref.current);Bt.includes(m.key)&&ne.reverse(),ro(ne)}),onBlur:w(t.onBlur,m=>{m.currentTarget.contains(m.target)||(window.clearTimeout(U.current),W.current="")}),onPointerMove:w(t.onPointerMove,ie(m=>{const L=m.target,k=B.current!==m.clientX;if(m.currentTarget.contains(L)&&k){const j=m.clientX>B.current?"right":"left";te.current=j,B.current=m.clientX}}))})})})})})})});Xt.displayName=I;var qr="MenuGroup",at=s.forwardRef((t,r)=>{const{__scopeMenu:n,...o}=t;return e.jsx(S.div,{role:"group",...o,ref:r})});at.displayName=qr;var Xr="MenuLabel",Yt=s.forwardRef((t,r)=>{const{__scopeMenu:n,...o}=t;return e.jsx(S.div,{...o,ref:r})});Yt.displayName=Xr;var Ce="MenuItem",lt="menu.itemSelect",Ee=s.forwardRef((t,r)=>{const{disabled:n=!1,onSelect:o,...a}=t,i=s.useRef(null),c=le(Ce,t.__scopeMenu),d=rt(Ce,t.__scopeMenu),f=G(r,i),h=s.useRef(!1),p=()=>{const u=i.current;if(!n&&u){const x=new CustomEvent(lt,{bubbles:!0,cancelable:!0});u.addEventListener(lt,C=>o?.(C),{once:!0}),pr(u,x),x.defaultPrevented?h.current=!1:c.onClose()}};return e.jsx(Qt,{...a,ref:f,disabled:n,onClick:w(t.onClick,p),onPointerDown:u=>{t.onPointerDown?.(u),h.current=!0},onPointerUp:w(t.onPointerUp,u=>{h.current||u.currentTarget?.click()}),onKeyDown:w(t.onKeyDown,u=>{const x=d.searchRef.current!=="";n||x&&u.key===" "||Xe.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Ee.displayName=Ce;var Qt=s.forwardRef((t,r)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a,...i}=t,c=rt(Ce,n),d=Vt(n),f=s.useRef(null),h=G(r,f),[p,u]=s.useState(!1),[x,C]=s.useState("");return s.useEffect(()=>{const g=f.current;g&&C((g.textContent??"").trim())},[i.children]),e.jsx(se.ItemSlot,{scope:n,disabled:o,textValue:a??x,children:e.jsx(Yn,{asChild:!0,...d,focusable:!o,children:e.jsx(S.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...i,ref:h,onPointerMove:w(t.onPointerMove,ie(g=>{o?c.onItemLeave(g):(c.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:w(t.onPointerLeave,ie(g=>c.onItemLeave(g))),onFocus:w(t.onFocus,()=>u(!0)),onBlur:w(t.onBlur,()=>u(!1))})})})}),Yr="MenuCheckboxItem",Jt=s.forwardRef((t,r)=>{const{checked:n=!1,onCheckedChange:o,...a}=t;return e.jsx(rn,{scope:t.__scopeMenu,checked:n,children:e.jsx(Ee,{role:"menuitemcheckbox","aria-checked":Ne(n)?"mixed":n,...a,ref:r,"data-state":it(n),onSelect:w(a.onSelect,()=>o?.(Ne(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Jt.displayName=Yr;var Zt="MenuRadioGroup",[Qr,Jr]=X(Zt,{value:void 0,onValueChange:()=>{}}),en=s.forwardRef((t,r)=>{const{value:n,onValueChange:o,...a}=t,i=mt(o);return e.jsx(Qr,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(at,{...a,ref:r})})});en.displayName=Zt;var tn="MenuRadioItem",nn=s.forwardRef((t,r)=>{const{value:n,...o}=t,a=Jr(tn,t.__scopeMenu),i=n===a.value;return e.jsx(rn,{scope:t.__scopeMenu,checked:i,children:e.jsx(Ee,{role:"menuitemradio","aria-checked":i,...o,ref:r,"data-state":it(i),onSelect:w(o.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});nn.displayName=tn;var st="MenuItemIndicator",[rn,Zr]=X(st,{checked:!1}),on=s.forwardRef((t,r)=>{const{__scopeMenu:n,forceMount:o,...a}=t,i=Zr(st,n);return e.jsx(q,{present:o||Ne(i.checked)||i.checked===!0,children:e.jsx(S.span,{...a,ref:r,"data-state":it(i.checked)})})});on.displayName=st;var eo="MenuSeparator",an=s.forwardRef((t,r)=>{const{__scopeMenu:n,...o}=t;return e.jsx(S.div,{role:"separator","aria-orientation":"horizontal",...o,ref:r})});an.displayName=eo;var to="MenuArrow",sn=s.forwardRef((t,r)=>{const{__scopeMenu:n,...o}=t,a=De(n);return e.jsx(ir,{...a,...o,ref:r})});sn.displayName=to;var no="MenuSub",[wa,cn]=X(no),oe="MenuSubTrigger",ln=s.forwardRef((t,r)=>{const n=Y(oe,t.__scopeMenu),o=le(oe,t.__scopeMenu),a=cn(oe,t.__scopeMenu),i=rt(oe,t.__scopeMenu),c=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=i,h={__scopeMenu:t.__scopeMenu},p=s.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return s.useEffect(()=>p,[p]),s.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),f(null)}},[d,f]),e.jsx(tt,{asChild:!0,...h,children:e.jsx(Qt,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":pn(n.open),...t,ref:ut(r,a.onTriggerChange),onClick:u=>{t.onClick?.(u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:w(t.onPointerMove,ie(u=>{i.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:w(t.onPointerLeave,ie(u=>{p();const x=n.content?.getBoundingClientRect();if(x){const C=n.content?.dataset.side,g=C==="right",N=g?-5:5,P=x[g?"left":"right"],v=x[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+N,y:u.clientY},{x:P,y:x.top},{x:v,y:x.top},{x:v,y:x.bottom},{x:P,y:x.bottom}],side:C}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:w(t.onKeyDown,u=>{const x=i.searchRef.current!=="";t.disabled||x&&u.key===" "||Or[o.dir].includes(u.key)&&(n.onOpenChange(!0),n.content?.focus(),u.preventDefault())})})})});ln.displayName=oe;var dn="MenuSubContent",un=s.forwardRef((t,r)=>{const n=Ht(I,t.__scopeMenu),{forceMount:o=n.forceMount,...a}=t,i=Y(I,t.__scopeMenu),c=le(I,t.__scopeMenu),d=cn(dn,t.__scopeMenu),f=s.useRef(null),h=G(r,f);return e.jsx(se.Provider,{scope:t.__scopeMenu,children:e.jsx(q,{present:o||i.open,children:e.jsx(se.Slot,{scope:t.__scopeMenu,children:e.jsx(ot,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:w(t.onFocusOutside,p=>{p.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:w(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:w(t.onKeyDown,p=>{const u=p.currentTarget.contains(p.target),x=Fr[c.dir].includes(p.key);u&&x&&(i.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});un.displayName=dn;function pn(t){return t?"open":"closed"}function Ne(t){return t==="indeterminate"}function it(t){return Ne(t)?"indeterminate":t?"checked":"unchecked"}function ro(t){const r=document.activeElement;for(const n of t)if(n===r||(n.focus(),document.activeElement!==r))return}function oo(t,r){return t.map((n,o)=>t[(r+o)%t.length])}function ao(t,r,n){const a=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let c=oo(t,Math.max(i,0));a.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function so(t,r){const{x:n,y:o}=t;let a=!1;for(let i=0,c=r.length-1;i<r.length;c=i++){const d=r[i],f=r[c],h=d.x,p=d.y,u=f.x,x=f.y;p>o!=x>o&&n<(u-h)*(o-p)/(x-p)+h&&(a=!a)}return a}function io(t,r){if(!r)return!1;const n={x:t.clientX,y:t.clientY};return so(n,r)}function ie(t){return r=>r.pointerType==="mouse"?t(r):void 0}var co=zt,lo=tt,uo=qt,po=Xt,mo=at,fo=Yt,ho=Ee,xo=Jt,go=en,vo=nn,wo=on,jo=an,yo=sn,_o=ln,Co=un,Pe="DropdownMenu",[No]=be(Pe,[Wt]),D=Wt(),[bo,mn]=No(Pe),fn=t=>{const{__scopeDropdownMenu:r,children:n,dir:o,open:a,defaultOpen:i,onOpenChange:c,modal:d=!0}=t,f=D(r),h=s.useRef(null),[p,u]=Qe({prop:a,defaultProp:i??!1,onChange:c,caller:Pe});return e.jsx(bo,{scope:r,triggerId:ae(),triggerRef:h,contentId:ae(),open:p,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(x=>!x),[u]),modal:d,children:e.jsx(co,{...f,open:p,onOpenChange:u,dir:o,modal:d,children:n})})};fn.displayName=Pe;var hn="DropdownMenuTrigger",xn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...a}=t,i=mn(hn,n),c=D(n);return e.jsx(lo,{asChild:!0,...c,children:e.jsx(S.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:ut(r,i.triggerRef),onPointerDown:w(t.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:w(t.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});xn.displayName=hn;var Mo="DropdownMenuPortal",gn=t=>{const{__scopeDropdownMenu:r,...n}=t,o=D(r);return e.jsx(uo,{...o,...n})};gn.displayName=Mo;var vn="DropdownMenuContent",wn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=mn(vn,n),i=D(n),c=s.useRef(!1);return e.jsx(po,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...o,ref:r,onCloseAutoFocus:w(t.onCloseAutoFocus,d=>{c.current||a.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:w(t.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!a.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wn.displayName=vn;var Do="DropdownMenuGroup",Eo=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(mo,{...a,...o,ref:r})});Eo.displayName=Do;var Po="DropdownMenuLabel",jn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(fo,{...a,...o,ref:r})});jn.displayName=Po;var Ro="DropdownMenuItem",yn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(ho,{...a,...o,ref:r})});yn.displayName=Ro;var So="DropdownMenuCheckboxItem",_n=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(xo,{...a,...o,ref:r})});_n.displayName=So;var Io="DropdownMenuRadioGroup",ko=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(go,{...a,...o,ref:r})});ko.displayName=Io;var To="DropdownMenuRadioItem",Cn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(vo,{...a,...o,ref:r})});Cn.displayName=To;var Ao="DropdownMenuItemIndicator",Nn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(wo,{...a,...o,ref:r})});Nn.displayName=Ao;var Oo="DropdownMenuSeparator",bn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(jo,{...a,...o,ref:r})});bn.displayName=Oo;var Fo="DropdownMenuArrow",Lo=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(yo,{...a,...o,ref:r})});Lo.displayName=Fo;var $o="DropdownMenuSubTrigger",Mn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(_o,{...a,...o,ref:r})});Mn.displayName=$o;var Go="DropdownMenuSubContent",Dn=s.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...o}=t,a=D(n);return e.jsx(Co,{...a,...o,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dn.displayName=Go;var Ko=fn,Uo=xn,Bo=gn,En=wn,Pn=jn,Rn=yn,Sn=_n,In=Cn,kn=Nn,Tn=bn,An=Mn,On=Dn;const Wo=Ko,Vo=Uo,zo=s.forwardRef(({className:t,inset:r,children:n,...o},a)=>e.jsxs(An,{ref:a,className:b("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...o,children:[n,e.jsx(cr,{className:"ml-auto h-4 w-4"})]}));zo.displayName=An.displayName;const Ho=s.forwardRef(({className:t,...r},n)=>e.jsx(On,{ref:n,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ho.displayName=On.displayName;const Fn=s.forwardRef(({className:t,sideOffset:r=4,...n},o)=>e.jsx(Bo,{children:e.jsx(En,{ref:o,sideOffset:r,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Fn.displayName=En.displayName;const ye=s.forwardRef(({className:t,inset:r,...n},o)=>e.jsx(Rn,{ref:o,className:b("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",t),...n}));ye.displayName=Rn.displayName;const qo=s.forwardRef(({className:t,children:r,checked:n,...o},a)=>e.jsxs(Sn,{ref:a,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kn,{children:e.jsx(yt,{className:"h-4 w-4"})})}),r]}));qo.displayName=Sn.displayName;const Xo=s.forwardRef(({className:t,children:r,...n},o)=>e.jsxs(In,{ref:o,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(kn,{children:e.jsx(fr,{className:"h-2 w-2 fill-current"})})}),r]}));Xo.displayName=In.displayName;const Yo=s.forwardRef(({className:t,inset:r,...n},o)=>e.jsx(Pn,{ref:o,className:b("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n}));Yo.displayName=Pn.displayName;const Ln=s.forwardRef(({className:t,...r},n)=>e.jsx(Tn,{ref:n,className:b("-mx-1 my-1 h-px bg-muted",t),...r}));Ln.displayName=Tn.displayName;var Re="Switch",[Qo]=be(Re),[Jo,Zo]=Qo(Re),$n=s.forwardRef((t,r)=>{const{__scopeSwitch:n,name:o,checked:a,defaultChecked:i,required:c,disabled:d,value:f="on",onCheckedChange:h,form:p,...u}=t,[x,C]=s.useState(null),g=G(r,_=>C(_)),N=s.useRef(!1),P=x?p||!!x.closest("form"):!0,[v,A]=Qe({prop:a,defaultProp:i??!1,onChange:h,caller:Re});return e.jsxs(Jo,{scope:n,checked:v,disabled:d,children:[e.jsx(S.button,{type:"button",role:"switch","aria-checked":v,"aria-required":c,"data-state":Bn(v),"data-disabled":d?"":void 0,disabled:d,value:f,...u,ref:g,onClick:w(t.onClick,_=>{A(O=>!O),P&&(N.current=_.isPropagationStopped(),N.current||_.stopPropagation())})}),P&&e.jsx(Un,{control:x,bubbles:!N.current,name:o,value:f,checked:v,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});$n.displayName=Re;var Gn="SwitchThumb",Kn=s.forwardRef((t,r)=>{const{__scopeSwitch:n,...o}=t,a=Zo(Gn,n);return e.jsx(S.span,{"data-state":Bn(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:r})});Kn.displayName=Gn;var ea="SwitchBubbleInput",Un=s.forwardRef(({__scopeSwitch:t,control:r,checked:n,bubbles:o=!0,...a},i)=>{const c=s.useRef(null),d=G(c,i),f=lr(n),h=dr(r);return s.useEffect(()=>{const p=c.current;if(!p)return;const u=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(u,"checked").set;if(f!==n&&C){const g=new Event("click",{bubbles:o});C.call(p,n),p.dispatchEvent(g)}},[f,n,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Un.displayName=ea;function Bn(t){return t?"checked":"unchecked"}var Wn=$n,ta=Kn;const Ye=s.forwardRef(({className:t,...r},n)=>e.jsx(Wn,{className:b("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:n,children:e.jsx(ta,{className:b("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ye.displayName=Wn.displayName;const na=async t=>{const r=new URLSearchParams({page:t.page.toString(),limit:"20"});t.search&&r.append("search",t.search),t.department&&t.department!=="all"&&r.append("department",t.department),t.activeTab==="active"?r.append("is_active","true"):t.activeTab==="inactive"&&r.append("is_active","false");const n=await fetch(`/api/workers?${r.toString()}`,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch workers");return n.json()},ra=async t=>{const r=await fetch("/api/workers",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw r.status===409?new Error("PIN already exists. Please use a different PIN."):new Error(n.error?.message||"Failed to create employee");return n.data},oa=async({id:t,data:r})=>{const n=await fetch(`/api/workers/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),o=await n.json();if(!n.ok)throw new Error(o.error?.message||"Failed to update employee");return o.data},aa=async({id:t,data:r})=>{const n=await fetch(`/api/workers/${t}/pin`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)}),o=await n.json();if(!n.ok)throw n.status===409?new Error("PIN already in use. Please use a different PIN."):new Error(o.error?.message||"Failed to update PIN")},sa=async t=>{const r=await fetch(`/api/workers/${t}`,{method:"DELETE",credentials:"include"}),n=await r.json();if(!r.ok)throw new Error(n.error?.message||"Failed to deactivate employee")},ia=()=>{const t=zn(),[r,n]=s.useState(!1),[o,a]=s.useState(!1),[i,c]=s.useState(!1),[d,f]=s.useState(""),[h,p]=s.useState(null),[u,x]=s.useState("all"),[C,g]=s.useState(1),[N,P]=s.useState(null),[v,A]=s.useState({first_name:"",last_name:"",pin:"",department:"",is_active:!0}),[_,O]=s.useState({first_name:"",last_name:"",department:"",is_active:!0}),[Q,J]=s.useState(""),K=["Operations","Administration","Support","Sales","Development"],{data:de,isLoading:U,error:W}=Hn({queryKey:["workers",C,d,h,u],queryFn:()=>na({page:C,search:d,department:h,activeTab:u})}),ue=me({mutationFn:ra,onSuccess:()=>{t.invalidateQueries({queryKey:["workers"]}),M.success("Employee added successfully"),A({first_name:"",last_name:"",pin:"",department:"",is_active:!0}),n(!1)},onError:l=>{M.error(l.message)}}),Z=me({mutationFn:oa,onSuccess:()=>{t.invalidateQueries({queryKey:["workers"]}),M.success("Employee updated successfully"),a(!1),P(null)},onError:l=>{M.error(l.message)}}),te=me({mutationFn:aa,onSuccess:()=>{M.success("PIN updated successfully"),c(!1),P(null),J("")},onError:l=>{M.error(l.message)}}),B=me({mutationFn:sa,onSuccess:()=>{t.invalidateQueries({queryKey:["workers"]}),M.success("Employee deactivated successfully")},onError:l=>{M.error(l.message)}});s.useEffect(()=>{g(1)},[d,h,u]),s.useEffect(()=>{W&&M.error("Failed to load employees")},[W]);const Se=()=>{if(!v.first_name.trim()){M.error("First name is required");return}if(!v.last_name.trim()){M.error("Last name is required");return}if(v.pin.length<4||v.pin.length>6){M.error("PIN must be 4-6 digits");return}ue.mutate({first_name:v.first_name,last_name:v.last_name,pin:v.pin,department:v.department||null,is_active:v.is_active})},Ie=()=>{if(N){if(!_.first_name.trim()){M.error("First name is required");return}if(!_.last_name.trim()){M.error("Last name is required");return}Z.mutate({id:N.id,data:{first_name:_.first_name,last_name:_.last_name,department:_.department||null,is_active:_.is_active}})}},ke=()=>{if(N){if(Q.length<4||Q.length>6){M.error("PIN must be 4-6 digits");return}te.mutate({id:N.id,data:{new_pin:Q}})}},F=(l,pe)=>{confirm(`Are you sure you want to deactivate ${pe}?`)&&B.mutate(l)},m=l=>{P(l),O({first_name:l.first_name,last_name:l.last_name,department:l.department||"",is_active:l.is_active}),a(!0)},L=l=>{P(l),J(""),c(!0)},k=de?.data.workers||[],j=de?.data.pagination||null,y=ue.isPending||Z.isPending||te.isPending;return e.jsxs("div",{className:"container py-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employee Management"}),e.jsxs(E,{onClick:()=>n(!0),children:[e.jsx(vr,{className:"mr-2 h-4 w-4"}),"Add Employee"]})]}),e.jsxs(Zn,{value:u,onValueChange:x,className:"w-full",children:[e.jsxs(er,{children:[e.jsx($e,{value:"all",children:"All Employees"}),e.jsx($e,{value:"active",children:"Active"}),e.jsx($e,{value:"inactive",children:"Inactive"})]}),e.jsxs("div",{className:"flex items-center space-x-2 my-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ur,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(V,{placeholder:"Search employees by name...",className:"pl-8",value:d,onChange:l=>f(l.target.value)})]}),e.jsxs(Ue,{value:h||"all",onValueChange:l=>p(l==="all"?null:l),children:[e.jsx(Be,{className:"w-[180px]",children:e.jsx(We,{placeholder:"Department"})}),e.jsxs(Ve,{children:[e.jsx(ee,{value:"all",children:"All Departments"}),K.map(l=>e.jsx(ee,{value:l,children:l},l))]})]})]}),e.jsx(Ge,{value:"all",children:e.jsxs(Te,{children:[e.jsx(Ae,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Oe,{children:"All Employees"}),e.jsx(Fe,{children:"Manage all registered employees"})]}),e.jsxs(ze,{variant:"outline",className:"ml-4",children:[j?.total_items||0," employees"]})]})}),e.jsxs(Le,{children:[e.jsx(qe,{employees:k,isLoading:U,onEdit:m,onUpdatePin:L,onDelete:F,isDeleting:B.isPending}),j&&j.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>g(l=>l-1),disabled:!j.has_previous,children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",j.page," of ",j.total_pages]}),e.jsx(E,{variant:"outline",onClick:()=>g(l=>l+1),disabled:!j.has_next,children:"Next"})]})]})]})}),e.jsx(Ge,{value:"active",children:e.jsxs(Te,{children:[e.jsx(Ae,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Oe,{children:"Active Employees"}),e.jsx(Fe,{children:"Currently active employee accounts"})]}),e.jsxs(ze,{variant:"outline",className:"ml-4",children:[j?.total_items||0," active"]})]})}),e.jsxs(Le,{children:[e.jsx(qe,{employees:k,isLoading:U,onEdit:m,onUpdatePin:L,onDelete:F,isDeleting:B.isPending}),j&&j.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>g(l=>l-1),disabled:!j.has_previous,children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",j.page," of ",j.total_pages]}),e.jsx(E,{variant:"outline",onClick:()=>g(l=>l+1),disabled:!j.has_next,children:"Next"})]})]})]})}),e.jsx(Ge,{value:"inactive",children:e.jsxs(Te,{children:[e.jsx(Ae,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Oe,{children:"Inactive Employees"}),e.jsx(Fe,{children:"Deactivated employee accounts"})]}),e.jsxs(ze,{variant:"outline",className:"ml-4",children:[j?.total_items||0," inactive"]})]})}),e.jsxs(Le,{children:[e.jsx(qe,{employees:k,isLoading:U,onEdit:m,onUpdatePin:L,onDelete:F,isDeleting:B.isPending}),j&&j.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(E,{variant:"outline",onClick:()=>g(l=>l-1),disabled:!j.has_previous,children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",j.page," of ",j.total_pages]}),e.jsx(E,{variant:"outline",onClick:()=>g(l=>l+1),disabled:!j.has_next,children:"Next"})]})]})]})})]})]}),e.jsx(He,{open:r,onOpenChange:n,children:e.jsxs(xe,{className:"sm:max-w-[425px]",children:[e.jsxs(ge,{children:[e.jsx(we,{children:"Add New Employee"}),e.jsx(je,{children:"Add a new employee to the system. They'll be able to clock in using their PIN."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"first_name",children:"First Name"}),e.jsx(V,{id:"first_name",value:v.first_name,onChange:l=>A({...v,first_name:l.target.value}),placeholder:"John",disabled:y})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"last_name",children:"Last Name"}),e.jsx(V,{id:"last_name",value:v.last_name,onChange:l=>A({...v,last_name:l.target.value}),placeholder:"Doe",disabled:y})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"pin",children:"PIN Code (4-6 digits)"}),e.jsx(V,{id:"pin",value:v.pin,onChange:l=>A({...v,pin:l.target.value.replace(/\D/g,"")}),placeholder:"1234",type:"password",maxLength:6,disabled:y})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"department",children:"Department (Optional)"}),e.jsxs(Ue,{value:v.department||"none",onValueChange:l=>A({...v,department:l==="none"?"":l}),disabled:y,children:[e.jsx(Be,{id:"department",children:e.jsx(We,{placeholder:"Select Department"})}),e.jsxs(Ve,{children:[e.jsx(ee,{value:"none",children:"No Department"}),K.map(l=>e.jsx(ee,{value:l,children:l},l))]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{htmlFor:"status",children:"Active Status"}),e.jsx(Ye,{id:"status",checked:v.is_active,onCheckedChange:l=>A({...v,is_active:l}),disabled:y})]})]}),e.jsxs(ve,{children:[e.jsx(E,{variant:"outline",onClick:()=>n(!1),disabled:y,children:"Cancel"}),e.jsxs(E,{onClick:Se,disabled:y,children:[y&&e.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Employee"]})]})]})}),e.jsx(He,{open:o,onOpenChange:a,children:e.jsxs(xe,{className:"sm:max-w-[425px]",children:[e.jsxs(ge,{children:[e.jsx(we,{children:"Edit Employee"}),e.jsx(je,{children:"Make changes to employee information. Use the separate PIN update option to change PIN."})]}),N&&e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"edit-first_name",children:"First Name"}),e.jsx(V,{id:"edit-first_name",value:_.first_name,onChange:l=>O({..._,first_name:l.target.value}),disabled:y})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"edit-last_name",children:"Last Name"}),e.jsx(V,{id:"edit-last_name",value:_.last_name,onChange:l=>O({..._,last_name:l.target.value}),disabled:y})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"edit-department",children:"Department (Optional)"}),e.jsxs(Ue,{value:_.department||"none",onValueChange:l=>O({..._,department:l==="none"?"":l}),disabled:y,children:[e.jsx(Be,{id:"edit-department",children:e.jsx(We,{placeholder:"Select Department"})}),e.jsxs(Ve,{children:[e.jsx(ee,{value:"none",children:"No Department"}),K.map(l=>e.jsx(ee,{value:l,children:l},l))]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($,{htmlFor:"edit-status",children:"Active Status"}),e.jsx(Ye,{id:"edit-status",checked:_.is_active,onCheckedChange:l=>O({..._,is_active:l}),disabled:y})]})]}),e.jsxs(ve,{children:[e.jsx(E,{variant:"outline",onClick:()=>a(!1),disabled:y,children:"Cancel"}),e.jsxs(E,{onClick:Ie,disabled:y,children:[y&&e.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}),e.jsx(He,{open:i,onOpenChange:c,children:e.jsxs(xe,{className:"sm:max-w-[425px]",children:[e.jsxs(ge,{children:[e.jsx(we,{children:"Update PIN"}),e.jsxs(je,{children:["Update the PIN for ",N?.first_name," ",N?.last_name]})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"new-pin",children:"New PIN (4-6 digits)"}),e.jsx(V,{id:"new-pin",value:Q,onChange:l=>J(l.target.value.replace(/\D/g,"")),placeholder:"1234",type:"password",maxLength:6,disabled:y})]})}),e.jsxs(ve,{children:[e.jsx(E,{variant:"outline",onClick:()=>c(!1),disabled:y,children:"Cancel"}),e.jsxs(E,{onClick:ke,disabled:y,children:[y&&e.jsx(he,{className:"mr-2 h-4 w-4 animate-spin"}),"Update PIN"]})]})]})})]})},qe=({employees:t,isLoading:r,onEdit:n,onUpdatePin:o,onDelete:a,isDeleting:i})=>r?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx(he,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"relative overflow-x-auto",children:e.jsxs(tr,{children:[e.jsx(nr,{children:e.jsxs(Ke,{children:[e.jsx(fe,{className:"w-[250px]",children:"Name"}),e.jsx(fe,{children:"Department"}),e.jsx(fe,{children:"Status"}),e.jsx(fe,{className:"text-right",children:"Actions"})]})}),e.jsx(rr,{children:t.length===0?e.jsx(Ke,{children:e.jsx(re,{colSpan:4,className:"text-center py-10",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx(mr,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),e.jsx("h3",{className:"font-medium",children:"No employees found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.length===0&&!r?"Add a new employee to get started":"Try adjusting your filters"})]})})}):t.map(c=>{const d=`${c.first_name} ${c.last_name}`,f=`${c.first_name[0]}${c.last_name[0]}`.toUpperCase();return e.jsxs(Ke,{children:[e.jsx(re,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center mr-3 text-slate-500 text-sm font-semibold",children:f}),e.jsxs("div",{children:[e.jsx("div",{children:d}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",c.id.substring(0,8)]})]})]})}),e.jsx(re,{children:c.department||e.jsx("span",{className:"text-muted-foreground",children:"â€”"})}),e.jsx(re,{children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${c.is_active?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:c.is_active?e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"mr-1 h-3 w-3"})," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"mr-1 h-3 w-3"})," Inactive"]})})}),e.jsx(re,{className:"text-right",children:e.jsxs(Wo,{children:[e.jsx(Vo,{asChild:!0,children:e.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0",children:[e.jsx(hr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(Fn,{align:"end",children:[e.jsxs(ye,{onClick:()=>n(c),children:[e.jsx(gr,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(ye,{onClick:()=>o(c),children:[e.jsx(xr,{className:"mr-2 h-4 w-4"}),"Update PIN"]}),e.jsx(Ln,{}),e.jsxs(ye,{className:"text-red-600",onClick:()=>a(c.id,d),disabled:i,children:[e.jsx(wr,{className:"mr-2 h-4 w-4"}),c.is_active?"Deactivate":"Delete"]})]})]})})]},c.id)})})]})}),ja=()=>e.jsx(Vn,{children:e.jsx(ia,{})});export{ja as default};
